package com.CPT.Dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.List;

import com.CPT.DB.DBConnect;
import com.CPT.Entities.GioHang;

public class GioHangDaoImpl implements GioHangDao {

	private Connection con = null;

	@Override
	public List<GioHang> getCartByAccountID(int idnguoidung) {
		List<GioHang> gioHangs = new ArrayList<GioHang>();
		String query = "select * form gh where idnguoidung = ?";
		try {
			new DBConnect();
			PreparedStatement ps= con.prepareStatement(query);
			ps.setInt(1, idnguoidung);
			ResultSet rs = ps.executeQuery();
			
			while(rs.next()) {
				gioHangs.add(new GioHang(rs.getInt("ghid"), 
						rs.getInt("idnguoidung"),
						rs.getString("anh"),
						rs.getString("sanpham"),
						rs.getInt("dongia"),
						rs.getInt("soluong"),
						rs.getInt("thanhtien")));
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
		return gioHangs;
	}

	@Override
	public void editsoluonggh(int idnguoidung, int ghid, int soluong) {
		// TODO Auto-generated method stub

	}

}
